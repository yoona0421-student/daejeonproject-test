<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ëŒ€ì „ ì»¤ë®¤ë‹ˆí‹° í—¤ë”</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="replit-ui.css">
  <style>
    body {
      background: #f7f8fa;
      font-family: 'Noto Sans KR', sans-serif;
      margin: 0;
    }
    .top-bar {
      background: linear-gradient(90deg, #ffe066 60%, #d9f99d 100%);
      padding: 32px 0 0 0;
      border-bottom-left-radius: 32px;
      border-bottom-right-radius: 32px;
      position: relative;
    }
    .top-bar-inner {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 48px;
      gap: 32px;
    }
    .top-bar-inner img {
      height: 56px;
      margin-right: 18px;
    }
    .nav {
      display: flex;
      gap: 32px;
      font-size: 20px;
      align-items: center;
    }
    .nav a {
      text-decoration: none;
      color: #222;
      padding: 8px 16px;
      border-radius: 16px;
      transition: background 0.2s;
    }
    .nav a.active, .nav a:hover {
      background: #fff6db;
      color: #222;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    }
  </style>
</head>
<body>
  
</html>
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ëŒ€ì „ ì–´ë¦°ì´ ì•ˆì „ ëŒ€ì‹œë³´ë“œ</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="replit-ui.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
  <style>
body {
  background: #f5f6fa;
  font-family: 'Pretendard', 'Noto Sans KR', sans-serif;
  margin: 0;
}
.main-header {
  background: #fff;
  box-shadow: 0 2px 12px rgba(0,0,0,0.07);
  padding: 28px 48px 18px 48px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.header-left {
  display: flex;
  align-items: center;
  gap: 24px;
}
.header-title-group h1 {
  font-size: 2.1em;
  font-weight: 700;
  margin-bottom: 8px;
}
.header-title-group .subtitle {
  font-size: 1.08em;
  color: #888;
  margin-left: 2px;
}
#floatingReportBtn {
  position: absolute;
  top: 32px;
  right: 48px;
  z-index: 1200;
  background: linear-gradient(90deg, #ffe066 60%, #a8e063 100%);
  color: #34495e;
  border: none;
  padding: 12px 32px;
  border-radius: 50px;
  font-size: 1.08em;
  font-weight: 600;
  box-shadow: 0 2px 12px rgba(0,0,0,0.10);
  cursor: pointer;
  transition: box-shadow 0.2s, transform 0.1s;
}
#floatingReportBtn:hover {
  box-shadow: 0 4px 24px rgba(0,0,0,0.16);
  transform: translateY(-2px) scale(1.04);
}
.nav-bar {
  background: #fff;
  display: flex;
  align-items: center;
  gap: 32px;
  padding: 0 48px;
  height: 54px;
  border-bottom: 1.5px solid #eee;
  font-size: 1.08em;
  font-weight: 500;
}
.nav-bar .nav-item {
  color: #34495e;
  cursor: pointer;
  padding: 0 12px;
  border-radius: 8px;
  transition: background 0.15s;
}
.nav-bar .nav-item:hover {
  background: #ffe06633;
}
.main-layout {
  display: flex;
  gap: 32px;
  padding: 32px 48px 0 48px;
  min-height: 80vh;
}
.sidebar {
  width: 340px;
  display: flex;
  flex-direction: column;
  gap: 24px;
}
.card.safety-stats, .mini-news-alert {
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.07);
  border: 2px solid #ffe066;
  font-family: 'Pretendard', 'Noto Sans KR', sans-serif;
  padding: 20px 18px 16px 18px;
  max-width: 320px;
  text-align: center;
  position: relative;
}
.dream-family {
  position: absolute;
  left: -32px;
  top: -24px;
  width: 56px;
  height: auto;
  z-index: 2;
}
.mini-news-alert {
  height: 800px;
  margin-top: 0;
}
.mini-news-title {
  font-size: 1.08em;
  font-weight: 600;
  margin-bottom: 10px;
  color: #34495e;
}
#mini-news-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.map-box {
  flex: 1;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  position: relative;
}
#daejeon-map {
  width: 100%;
  height: 800px;
  border-radius: 28px;
  box-shadow: 0 4px 24px rgba(0,0,0,0.10);
  border: none;
}
.dream-family-map {
  position: absolute;
  right: 24px;
  bottom: 24px;
  width: 80px;
  height: auto;
  z-index: 10;
}
.community-section {
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.07);
  border: 2px solid #a8e063;
  padding: 24px 18px;
  max-width: 900px;
  margin: 32px auto;
  font-family: 'Pretendard', 'Noto Sans KR', sans-serif;
}
.community-title {
  font-size: 1.3em;
  font-weight: 700;
  margin-bottom: 18px;
  color: #27ae60;
  display: flex;
  align-items: center;
  gap: 12px;
}
.community-list {
  display: flex;
  flex-wrap: wrap;
  gap: 18px;
}
.community-card {
  background: #f8fff0;
  border-radius: 14px;
  box-shadow: 0 2px 8px rgba(168,224,99,0.10);
  border: 1.5px solid #a8e063;
  padding: 16px 14px;
  min-width: 220px;
  max-width: 260px;
  font-size: 1em;
  position: relative;
}
.community-card .dream-family {
  left: -18px;
  top: -18px;
  width: 38px;
}
footer {
  background: #fff;
  color: #888;
  text-align: center;
  padding: 18px 0 12px 0;
  font-size: 1em;
  box-shadow: 0 -2px 12px rgba(0,0,0,0.04);
  margin-top: 32px;
}
/* ì•ˆì „ ì œë³´ ëª¨ë‹¬ ê·€ì—¬ìš´ ìŠ¤íƒ€ì¼ */
#reportModal > div {
  background: linear-gradient(135deg, #fffbe6 60%, #eaffd0 100%);
  box-shadow: 0 8px 32px rgba(0,0,0,0.10);
  border-radius: 18px;
  font-family: 'Gowun Dodum', 'Pretendard', 'Noto Sans KR', sans-serif;
  border: 2px solid #ffe066;
}
#reportModal h3 {
  font-size: 1.5em;
  font-weight: bold;
  color: #f7b731;
  display: flex;
  align-items: center;
  gap: 8px;
}
#reportModal img {
  vertical-align: middle;
  margin-right: 4px;
}
#reportModal label {
  color: #6c757d;
  font-weight: 500;
}
#reportModal select, #reportModal textarea {
  border-radius: 10px;
  border: 1.5px solid #ffe066;
  background: #fff;
  font-size: 1em;
  margin-bottom: 10px;
  box-shadow: 0 2px 8px rgba(247,183,49,0.07);
}
#reportModal textarea {
  resize: vertical;
}
#imageDropZone {
  border: 2px dashed #ffe066;
  background: #fffbe6;
  color: #b2b200;
  font-size: 1em;
  transition: background 0.2s;
}
#imageDropZone:hover {
  background: #fffde7;
  border-color: #f7b731;
}
#previewImage img {
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(247,183,49,0.12);
}
#reportModal button[type="submit"] {
  background: linear-gradient(90deg, #f7b731 60%, #b2f7b8 100%);
  color: #fff;
  font-weight: bold;
  border: none;
  border-radius: 8px;
  padding: 8px 22px;
  font-size: 1em;
  box-shadow: 0 2px 8px rgba(247,183,49,0.10);
  transition: transform 0.1s, background 0.2s;
}
#reportModal button[type="submit"]:hover {
  transform: scale(1.05);
  background: linear-gradient(90deg, #ffe066 60%, #b2f7b8 100%);
}
#reportModal button#cancelBtn {
  background: #f7f7f7;
  color: #888;
  border-radius: 8px;
  border: none;
  padding: 8px 22px;
  font-size: 1em;
  margin-right: 8px;
  box-shadow: 0 2px 8px rgba(247,183,49,0.07);
}
#reportModal button#closeModal {
  font-size: 1.5em;
  color: #f7b731;
  background: none;
  border: none;
  cursor: pointer;
}

/* ì•ˆì „ í†µê³„ ê·€ì—¬ìš´ ìŠ¤íƒ€ì¼ */
.card.safety-stats {
  background: linear-gradient(135deg, #fffbe6 60%, #eaffd0 100%);
  border-radius: 18px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.08);
  border: 2px solid #ffe066;
  font-family: 'Gowun Dodum', 'Pretendard', 'Noto Sans KR', sans-serif;
  padding: 16px 10px 12px 10px;
  max-width: 320px;
  text-align: center;
}
.card.safety-stats h2 {
  font-size: 1.08em;
  margin-bottom: 6px;
}
.card.safety-stats h3 {
  font-size: 1em;
  margin-bottom: 8px;
}
.safety-stats .hospital-grid {
  gap: 8px;
  margin-bottom: 12px;
}
.safety-stats .hospital-card {
  border-radius: 8px;
  padding: 8px 12px;
  min-width: 70px;
  font-size: 0.98em;
}
.safety-stats .hospital-card .emoji {
  font-size: 1.1em;
}
.safety-stats .hospital-card .gu {
  font-size: 1em;
}
.safety-stats .hospital-card .count {
  font-size: 1em;
}
.safety-stats .top5-risk-list {
  padding-left: 0;
  text-align: center;
}
.safety-stats .top5-risk-list li {
  justify-content: center;
  margin-bottom: 7px;
  font-size: 0.98em;
  gap: 4px;
}
.safety-stats .top5-risk-list .rank {
  font-size: 1em;
}
.safety-stats .top5-risk-list .risk-emoji {
  font-size: 1em;
}
.safety-stats .top5-risk-list .type {
  font-size: 0.92em;
  padding: 2px 6px;
}
.safety-stats .top5-risk-list .count {
  font-size: 0.95em;
}
.safety-stats .hospital-list {
  list-style: none;
  padding: 0;
  margin: 0 0 18px 0;
}
.safety-stats .hospital-list li {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-size: 1.08em;
  margin-bottom: 8px;
}
.safety-stats .divider {
  border: none;
  border-top: 2px dashed #ffe066;
  margin: 16px 0;
}
#floatingReportBtn {
  position: absolute;
  top: 24px;
  right: 32px;
  z-index: 1200;
  background: #e67e22;
  color: #fff;
  border: none;
  padding: 12px 24px;
  border-radius: 50px;
  font-size: 18px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.12);
  cursor: pointer;
}
  </style>
</head>
<body>
  <!-- ìš°ë¦¬ ì§€ì—­ ìœ„í—˜ ì œë³´í•˜ê¸° ëª¨ë‹¬ -->
  <!-- ìš°ë¦¬ ì§€ì—­ ìœ„í—˜ ì œë³´í•˜ê¸° ëª¨ë‹¬ -->
  <div id="reportModal" style="display:none; position:fixed; left:0; top:0; width:100vw; height:100vh; background:rgba(0,0,0,0.18); z-index:2000; align-items:center; justify-content:center;">
    <div style="background:#fff; border-radius:18px; box-shadow:0 8px 32px rgba(0,0,0,0.10); padding:38px 32px 32px 32px; min-width:340px; max-width:98vw; position:relative;">
      <button id="closeModal" style="position:absolute; top:18px; right:18px; background:none; border:none; font-size:1.6em; color:#888; cursor:pointer;">&times;</button>
      <h2 style="margin-top:0; margin-bottom:18px; font-size:1.6em; font-weight:700; color:#222; display:flex; align-items:center; gap:8px;">
  <img src="dream_family_01.png" alt="ë²ˆê°œ" style="height:56px; width:auto; vertical-align:middle;"> ìš°ë¦¬ ì§€ì—­ ìœ„í—˜ ì œë³´í•˜ê¸°
      </h2>
      <form id="reportForm">
        <label for="reportType" style="font-weight:600; color:#444;">ì œë³´ ìœ í˜•</label><br>
        <select id="reportType" required style="width:100%; margin-bottom:18px; padding:8px; border-radius:8px; border:1.5px solid #ffe066;">
          <option value="">ì œë³´ ìœ í˜•ì„ ì„ íƒí•˜ì„¸ìš”</option>
          <option value="êµí†µ ìœ„í—˜">êµí†µ ìœ„í—˜</option>
          <option value="ì‹œì„¤ ìœ„í—˜">ì‹œì„¤ ìœ„í—˜</option>
          <option value="ê¸°íƒ€">ê¸°íƒ€</option>
        </select>
        <label for="district" style="font-weight:600; color:#444;">ëŒ€ì „ê´‘ì—­ì‹œ êµ¬</label><br>
        <select id="district" required style="width:100%; margin-bottom:18px; padding:8px; border-radius:8px; border:1.5px solid #ffe066;">
          <option value="">êµ¬ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
          <option value="ë™êµ¬">ë™êµ¬</option>
          <option value="ì¤‘êµ¬">ì¤‘êµ¬</option>
          <option value="ì„œêµ¬">ì„œêµ¬</option>
          <option value="ìœ ì„±êµ¬">ìœ ì„±êµ¬</option>
          <option value="ëŒ€ë•êµ¬">ëŒ€ë•êµ¬</option>
        </select>
        <label for="content" style="font-weight:600; color:#444;">ë‚´ìš©</label><br>
        <textarea id="content" rows="4" required style="width:100%; margin-bottom:18px; padding:8px; border-radius:8px; border:1.5px solid #ffe066;"></textarea>
        <label style="font-weight:600; color:#444;">ì‚¬ì§„ ì²¨ë¶€ (ì„ íƒ)</label><br>
        <div id="imageDropZone" style="border:2px dashed #ffe066; background:#fffbe6; color:#b2b200; font-size:1em; border-radius:10px; padding:18px; text-align:center; margin-bottom:18px; cursor:pointer;">
          <span id="imageDropText">ì‚¬ì§„ì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì—…ë¡œë“œ</span>
          <input type="file" id="imageInput" accept="image/*" style="display:none;">
          <div id="previewImage" style="display:none; margin-top:8px;"></div>
        </div>
        <div style="display:flex; gap:12px; justify-content:flex-end; margin-top:18px;">
          <button type="button" id="cancelBtn" style="background:#eee; color:#444; border:none; border-radius:8px; padding:8px 22px; font-size:1em; cursor:pointer;">ì·¨ì†Œ</button>
          <button type="submit" style="background:#6fcf97; color:#fff; border:none; border-radius:8px; padding:8px 22px; font-size:1em; font-weight:600; cursor:pointer;">ì œë³´í•˜ê¸°</button>
        </div>
      </form>
    </div>
  </div>
  <!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” ì¶”ê°€ -->
  <nav class="nav-bar">
    <img src="daejeon_logo.png" alt="ëŒ€ì „ ë¡œê³ " style="height:200px; margin-right:18px; width:auto;">
      <span class="nav-item">ì •ë³´ê³µê°œ</span>
      <span class="nav-item">ì°¸ì—¬ë§ˆë‹¹</span>
      <span class="nav-item">ì „ìë¯¼ì›</span>
      <span class="nav-item">í–‰ì •ì •ë³´</span>
      <span class="nav-item">ìƒí™œì •ë³´</span>
      <span class="nav-item">ëŒ€ì „ì†Œê°œ</span>
      <span class="nav-item">ë¶„ì•¼ë³„ì •ë³´</span>
      <a class="nav-item" href="community.html" style="background:#fff8dc; padding:6px 18px; border-radius:12px; font-weight:600; color:#222; text-decoration:none;">ì»¤ë®¤ë‹ˆí‹°</a>
  </nav>
  <header class="main-header">
    <div class="header-left">
      <img src="ê¿ˆëŒì´.png" alt="ê¿ˆëŒì´" class="dreamdori-animate" style="height:50px; margin-right:10px; width:auto; aspect-ratio:1/1;">
      <div class="header-title-group">
  <h1>ëŒ€ì•ˆì±…(ëŒ€ì „ ì•ˆì „ <span style="color:#27ae60;font-weight:bold;">CHECK</span>) - ì–´ë¦°ì´ ë³´í˜¸ ì‚¬ê°ì§€ëŒ€ ë°€ë„ê¸°ë°˜ êµ°ì§‘ë¶„ì„ ì›¹ ì„œë¹„ìŠ¤</h1>
        <div class="subtitle">ê¿ˆëŒì´ì™€ í•¨ê»˜í•˜ëŠ” ì•ˆì „í•œ í†µí•™ë¡œ</div>
      </div>
    </div>
    <!-- í—¤ë”ì—ì„œ ì•ˆì „ì œë³´í•˜ê¸° ë²„íŠ¼ ì œê±° -->
  </header>
    <div class="main-layout">
    <aside class="sidebar">
  <!-- ì‹¤ì‹œê°„ ì•ˆì „ ì•Œë¦¼ ì¹´í…Œê³ ë¦¬ ì œê±° -->
  <!-- ì˜¤ë¥¸ìª½ í•˜ë‹¨ ê³ ì • ì•ˆì „ì œë³´í•˜ê¸° ë²„íŠ¼ -->
    <button id="floatingReportBtn" style="position:fixed; right:32px; top:80px; z-index:1200; background:#6fcf97; color:#fff; border:2px solid #27ae60; padding:16px 28px; border-radius:50px; font-size:18px; font-family:'Gowun Dodum','Pretendard','Noto Sans KR',sans-serif; box-shadow:0 4px 16px rgba(0,0,0,0.12); cursor:pointer;">ìš°ë¦¬ ì§€ì—­ ìœ„í—˜ ì œë³´í•˜ê¸°</button>



    <!-- 3ë‹¨ ë ˆì´ì•„ì›ƒ: ì™¼ìª½ ë¸”ë¡(20%) + ì§€ë„(60%) + ë ˆì´ì–´ ì œì–´ íŒ¨ë„(20%) -->
  <div class="main-3col-layout" style="display:flex; flex-direction:row; gap:36px; width:100vw; min-height:80vh;">
      <!-- ì™¼ìª½ ì•ˆì „ í†µê³„/ë‰´ìŠ¤ ì•Œë¦¼ ë°•ìŠ¤ ë³µêµ¬ -->
      <aside class="sidebar" style="flex:2; min-width:220px; max-width:320px; padding:32px 12px 32px 24px; background:#fff; border-radius:24px; box-shadow:0 2px 12px rgba(0,0,0,0.07); margin:18px 0 18px 0; display:flex; flex-direction:column; gap:24px; align-items:stretch;">
        <section class="card safety-stats" style="padding-top:10px; background:#fffbe6; border:2px solid #ffe066;">
          <img src="dream_family_02.png" class="dream-family" alt="dream family 02" style="width:38px; left:-18px; top:-18px;">
          <h2 style="margin-top:0; margin-bottom:12px; font-size:1.22em; font-weight:700; color:#888;">ì•ˆì „ í†µê³„</h2>
          <div id="hospital-stats" style="margin-bottom:24px; text-align:center; font-size:1.08em;">
            <div style="margin-bottom:8px; font-weight:600; color:#444;">êµ¬ë³„ ë³‘ì›/ì‘ê¸‰ì‹œì„¤ í˜„í™©</div>
            <ul style="list-style:none; padding-left:0; margin-bottom:12px;">
              <li style="margin-bottom:4px;"><span style="font-size:1.1em;">ğŸ“‘</span> <span style="color:#d35400; font-weight:600;">ë™êµ¬ 1 ê°œ</span></li>
              <li style="margin-bottom:4px;"><span style="font-size:1.1em;">ğŸ“‘</span> <span style="color:#8e44ad; font-weight:600;">ì¤‘êµ¬ 1 ê°œ</span></li>
              <li style="margin-bottom:4px;"><span style="font-size:1.1em;">ğŸ“‘</span> <span style="color:#2980b9; font-weight:600;">ì„œêµ¬ 3 ê°œ</span></li>
              <li style="margin-bottom:4px;"><span style="font-size:1.1em;">ğŸ“‘</span> <span style="color:#27ae60; font-weight:600;">ìœ ì„±êµ¬ 1 ê°œ</span></li>
              <li style="margin-bottom:4px;"><span style="font-size:1.1em;">ğŸ“‘</span> <span style="color:#7f8c8d; font-weight:600;">ëŒ€ë•êµ¬ 2 ê°œ</span></li>
            </ul>
            <hr style="border:none; border-top:2px dashed #ffe066; margin:16px 0;">
          </div>
          <div id="top5-risk" style="margin-bottom:8px; text-align:center; font-size:1.08em;">
            <div style="margin-bottom:8px; font-weight:700; color:#444;">ìœ„í—˜ì§€ì—­ <span style="color:#e67e22;">TOP5</span></div>
            <ol style="padding-left:18px; margin-bottom:0; text-align:left;">
              <li style="margin-bottom:4px;"><span style="font-size:1.1em;">âš ï¸</span> <span style="color:#e67e22; font-weight:600;">ì„œêµ¬ ë‘”ì‚°ë™</span> <span style="color:#888;">êµí†µ ìœ„í—˜</span> <span style="color:#222;">8ê±´</span></li>
              <li style="margin-bottom:4px;"><span style="font-size:1.1em;">ğŸ«</span> <span style="color:#b5651d; font-weight:600;">ìœ ì„±êµ¬ ë´‰ëª…ë™</span> <span style="color:#888;">ì‹œì„¤ ìœ„í—˜</span> <span style="color:#222;">6ê±´</span></li>
              <li style="margin-bottom:4px;"><span style="font-size:1.1em;">âš ï¸</span> <span style="color:#f7b731; font-weight:600;">ëŒ€ë•êµ¬ ì‹ íƒ„ì§„ë™</span> <span style="color:#888;">êµí†µ ìœ„í—˜</span> <span style="color:#222;">5ê±´</span></li>
              <li style="margin-bottom:4px;"><span style="font-size:1.1em;">ğŸ«</span> <span style="color:#b5651d; font-weight:600;">ì„œêµ¬ ê´´ì •ë™</span> <span style="color:#888;">ì‹œì„¤ ìœ„í—˜</span> <span style="color:#222;">4ê±´</span></li>
              <li style="margin-bottom:4px;"><span style="font-size:1.1em;">5.</span> <span style="color:#2980b9; font-weight:600;">ì¤‘êµ¬ ëŒ€ì‚¬ë™</span> <span style="color:#888;">ê¸°íƒ€</span> <span style="color:#222;">3ê±´</span></li>
            </ol>
          </div>
        </section>
        <section class="mini-news-alert" style="height:220px; overflow-y:auto;">
          <img src="dream_family_04.png" class="dream-family" alt="dream family 04" style="width:28px; left:-12px; top:-12px;">
          <h3 class="mini-news-title">ì‹¤ì‹œê°„ ë‰´ìŠ¤ ì•Œë¦¼</h3>
          <div id="mini-news-list">
            <!-- JSë¡œ ì‹¤ì‹œê°„ ë‰´ìŠ¤ ê¸°ì‚¬ ì¶”ê°€ -->
          </div>
        </section>
      </aside>
      <!-- ê°€ìš´ë° ì§€ë„ ì˜ì—­(ê°€ë¡œí­ ëŒ€í­ ì¶•ì†Œ) -->
      <div class="map-col" style="flex:4; min-width:240px; max-width:840px; display:flex; flex-direction:column; align-items:center; justify-content:flex-start;">
        <iframe id="daejeon-map" src="hotspots_risk_preview (15).html" width="640" height="800" frameborder="0" style="border-radius:28px; border:none; margin-top:18px;"></iframe>
        <img src="dream_family_11.png" class="dream-family-map" alt="dream family 11" style="width:64px; right:18px; bottom:18px;">
      </div>
      <!-- ì˜¤ë¥¸ìª½ ë ˆì´ì–´ ì œì–´ íŒ¨ë„ -->
  <div class="layer-control-panel" style="flex:2; min-width:220px; max-width:350px; padding:32px 18px 32px 18px; background:#fffbe6; border-radius:24px; box-shadow:0 4px 24px rgba(0,0,0,0.10); border:2px solid #ffe066; margin:18px 0 18px 0; display:flex; flex-direction:column; gap:10px; align-items:stretch;">
  <!-- ì¹´í…Œê³ ë¦¬ë³„ ì²´í¬ë°•ìŠ¤ ë¦¬ìŠ¤íŠ¸ -->
  <div id="layer-checkbox-list">
    <!-- JSì—ì„œ ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
  </div>
      </div>
    </div>
  </section>
    </main>
    </div>
    <script>
    // ë³‘ì›/ì‘ê¸‰ì‹œì„¤ í˜„í™© ë°ì´í„° (ìƒ˜í”Œ, ì‹¤ì œëŠ” CSVì—ì„œ íŒŒì‹±)
    const hospitalData = [
      { gu: 'ë™êµ¬', count: 1 },
      { gu: 'ì¤‘êµ¬', count: 1 },
      { gu: 'ì„œêµ¬', count: 3 },
      { gu: 'ìœ ì„±êµ¬', count: 1 },
      { gu: 'ëŒ€ë•êµ¬', count: 2 }
    ];

    // ë¹„ë³´í˜¸êµ¬ì—­ ë ˆì´ì–´ í•­ëª© ì „ì²´ (ì‚¬ìš©ì ìš”ì²­ ê¸°ë°˜)
    const layerItems = [
      'ì‚¬ê³  ì (ì „ì²´: ë¹„ë³´í˜¸êµ¬ì—­)',
      'í´ëŸ¬ìŠ¤í„°(ìœ„í—˜ë„, ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜ Â· ì•ˆì „ìš´ì „ë¶ˆì´í–‰ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜ Â· ë³´í–‰ìë³´í˜¸ì˜ë¬´ìœ„ë°˜ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜ Â· ì‹ í˜¸ìœ„ë°˜ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜ Â· ê¸°íƒ€ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜ Â· ì¤‘ì•™ì„ ì¹¨ë²” (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜ Â· ì•ˆì „ê±°ë¦¬ë¯¸í™•ë³´ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜ Â· êµì°¨ë¡œìš´í–‰ë°©ë²•ìœ„ë°˜ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë…¸ë©´ìƒíƒœ Â· ê±´ì¡° (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë…¸ë©´ìƒíƒœ Â· ì –ìŒ/ìŠµê¸° (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë…¸ë©´ìƒíƒœ Â· ìŠµê¸° (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë…¸ë©´ìƒíƒœ Â· ì„œë¦¬/ê²°ë¹™ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ê¸°ìƒìƒíƒœ Â· ë§‘ìŒ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ê¸°ìƒìƒíƒœ Â· ë¹„ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ê¸°ìƒìƒíƒœ Â· íë¦¼ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë„ë¡œí˜•íƒœ Â· ë‹¨ì¼ë¡œ - ê¸°íƒ€ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë„ë¡œí˜•íƒœ Â· êµì°¨ë¡œ - êµì°¨ë¡œíš¡ë‹¨ë³´ë„ë‚´ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë„ë¡œí˜•íƒœ Â· êµì°¨ë¡œ - êµì°¨ë¡œì•ˆ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë„ë¡œí˜•íƒœ Â· êµì°¨ë¡œ - êµì°¨ë¡œë¶€ê·¼ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë„ë¡œí˜•íƒœ Â· ê¸°íƒ€ - ê¸°íƒ€ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë„ë¡œí˜•íƒœ Â· ë‹¨ì¼ë¡œ - íš¡ë‹¨ë³´ë„ìƒ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë„ë¡œí˜•íƒœ Â· ë‹¨ì¼ë¡œ - íš¡ë‹¨ë³´ë„ë¶€ê·¼ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë„ë¡œí˜•íƒœ Â· ë‹¨ì¼ë¡œ - ê³ ê°€ë„ë¡œìœ„ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë„ë¡œí˜•íƒœ Â· ì£¼ì°¨ì¥ - ì£¼ì°¨ì¥ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë„ë¡œí˜•íƒœ Â· ë‹¨ì¼ë¡œ - ì§€í•˜ì°¨ë„(ë„ë¡œ)ë‚´ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ ì•ˆì „ìš´ì „ë¶ˆì´í–‰ Â· ë§‘ìŒ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ ë³´í–‰ìë³´í˜¸ì˜ë¬´ìœ„ë°˜ Â· ë§‘ìŒ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ ì‹ í˜¸ìœ„ë°˜ Â· ë§‘ìŒ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ ê¸°íƒ€ Â· ë§‘ìŒ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ ì•ˆì „ìš´ì „ë¶ˆì´í–‰ Â· ë¹„ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ ì•ˆì „ìš´ì „ë¶ˆì´í–‰ Â· íë¦¼ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ ë³´í–‰ìë³´í˜¸ì˜ë¬´ìœ„ë°˜ Â· ë¹„ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ ì¤‘ì•™ì„ ì¹¨ë²” Â· ë§‘ìŒ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ ì•ˆì „ê±°ë¦¬ë¯¸í™•ë³´ Â· ë§‘ìŒ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ ì‹ í˜¸ìœ„ë°˜ Â· íë¦¼ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ ë³´í–‰ìë³´í˜¸ì˜ë¬´ìœ„ë°˜ Â· íë¦¼ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ êµì°¨ë¡œìš´í–‰ë°©ë²•ìœ„ë°˜ Â· ë§‘ìŒ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ ì‹ í˜¸ìœ„ë°˜ Â· ë¹„ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ ê¸°íƒ€ Â· ë¹„ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ ì•ˆì „ê±°ë¦¬ë¯¸í™•ë³´ Â· íë¦¼ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'ë²•ê·œìœ„ë°˜âˆ§ê¸°ìƒìƒíƒœ âˆ§ ì¤‘ì•™ì„ ì¹¨ë²” Â· ë¹„ (ë¹„ë³´í˜¸êµ¬ì—­)',
      'í•™êµÂ·ìœ ì¹˜ì›(ë³´ì¡°CSV ì „ì²´)'
    ];

    // ì²´í¬ë°•ìŠ¤ UI ìƒì„±
    function renderLayerCheckboxes() {
      const box = document.getElementById('layer-checkbox-list');
      box.innerHTML = layerItems.map((item, idx) => `
        <label style="display:flex; align-items:center; gap:6px; font-size:1em; background:#fff; border-radius:8px; padding:6px 12px; box-shadow:0 1px 4px rgba(0,0,0,0.04);">
          <input type="checkbox" class="layer-checkbox" data-layer="layer${idx}" checked>
          <span>${item}</span>
        </label>
      `).join('');
    }

    // Folium ì§€ë„ iframe ë‚´ ë ˆì´ì–´ ì œì–´ JS (postMessage í™œìš©)
    function setupLayerControl() {
      const checkboxes = document.querySelectorAll('.layer-checkbox');
      checkboxes.forEach(cb => {
        cb.addEventListener('change', function() {
          const layerId = this.getAttribute('data-layer');
          const checked = this.checked;
          // Folium ì§€ë„ iframeì— ë©”ì‹œì§€ ì „ë‹¬
          const iframe = document.getElementById('daejeon-map');
          iframe.contentWindow.postMessage({ type: 'layer-control', layerId, checked }, '*');
        });
      });
    }

    // DOMContentLoaded ì‹œ ì²´í¬ë°•ìŠ¤ ìƒì„± ë° ì´ë²¤íŠ¸ ì—°ê²°
    document.addEventListener('DOMContentLoaded', function() {
      renderLayerCheckboxes();
      setTimeout(setupLayerControl, 500); // iframe ë¡œë”© í›„ ì—°ê²°
    });

    // Folium ì§€ë„ iframeì—ì„œ ë©”ì‹œì§€ ìˆ˜ì‹  ì²˜ë¦¬ ì˜ˆì‹œ (ì§€ë„ ìª½ JS í•„ìš”)
    // window.addEventListener('message', function(e) {
    //   if (e.data.type === 'layer-control') {
    //     // e.data.layerId, e.data.checked ê°’ì— ë”°ë¼ ì§€ë„ ë ˆì´ì–´ show/hide
    //   }
    // });

    // ìœ„í—˜ì§€ì—­ TOP5 ë°ì´í„° (ìƒ˜í”Œ, ì‹¤ì œëŠ” ì‚¬ê³ /ì œë³´ ë°ì´í„°ì—ì„œ ì¶”ì¶œ)
    const top5Risk = [
      { rank: 1, gu: 'ì„œêµ¬', dong: 'ë‘”ì‚°ë™', type: 'êµí†µ ìœ„í—˜', count: 8 },
      { rank: 2, gu: 'ìœ ì„±êµ¬', dong: 'ë´‰ëª…ë™', type: 'ì‹œì„¤ ìœ„í—˜', count: 6 },
      { rank: 3, gu: 'ëŒ€ë•êµ¬', dong: 'ì‹ íƒ„ì§„ë™', type: 'êµí†µ ìœ„í—˜', count: 5 },
      { rank: 4, gu: 'ì„œêµ¬', dong: 'ê´€ì €ë™', type: 'ì‹œì„¤ ìœ„í—˜', count: 4 },
      { rank: 5, gu: 'ì¤‘êµ¬', dong: 'ëŒ€ì‚¬ë™', type: 'ê¸°íƒ€', count: 3 }
    ];

    // ì•ˆì „ í†µê³„ ì‹œê°í™” ë Œë”ë§
    function renderHospitalStats() {
      const el = document.getElementById('hospital-stats');
      el.innerHTML = `<h3>êµ¬ë³„ ë³‘ì›/ì‘ê¸‰ì‹œì„¤ í˜„í™©</h3>` +
        `<ul class='hospital-list'>` +
        hospitalData.map(h => `<li><span class='emoji'>ğŸ¥</span> <span class='gu'>${h.gu}</span> <span class='count'>${h.count} ê°œ</span></li>`).join('') + `</ul>` +
        `<hr class='divider'>`;
    }

    function renderTop5Risk() {
      const el = document.getElementById('top5-risk');
      const typeEmoji = {
        'êµí†µ ìœ„í—˜': 'âš ï¸',
        'ì‹œì„¤ ìœ„í—˜': 'ğŸšï¸',
        'ê¸°íƒ€': 'ğŸ“'
      };
      el.innerHTML = `<h3>ìœ„í—˜ì§€ì—­ TOP5</h3>` +
        `<ol class='top5-risk-list'>` +
        top5Risk.map((r, idx) => `<li style='display:flex; align-items:center; justify-content:center; gap:6px;'>
          <span class='rank'>${idx + 1}.</span>
          <span class='risk-emoji'>${typeEmoji[r.type] || 'â—'}</span>
          <span style='color:#34495e;'>${r.gu} ${r.dong}</span>
          <span class='type'>${r.type}</span>
          <span class='count'>${r.count}ê±´</span>
        </li>`).join('') + `</ol>`;
    }

    document.addEventListener('DOMContentLoaded', function() {
      renderHospitalStats();
      renderTop5Risk();
  // ...WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ë‰´ìŠ¤ ì½”ë“œ ì‚­ì œë¨...
    });
    const floatingReportBtn = document.getElementById('floatingReportBtn');
    const reportModal = document.getElementById('reportModal');
    const closeModal = document.getElementById('closeModal');
    const reportForm = document.getElementById('reportForm');
    const cancelBtn = document.getElementById('cancelBtn');
    const imageDropZone = document.getElementById('imageDropZone');
    const imageInput = document.getElementById('imageInput');
    const previewImage = document.getElementById('previewImage');
    const imageDropText = document.getElementById('imageDropText');

    // ì œë³´ í¼ ì—´ê¸°/ë‹«ê¸°
    floatingReportBtn.onclick = () => {
      reportModal.style.display = 'flex';
    };
    closeModal.onclick = () => {
      reportModal.style.display = 'none';
    };
    cancelBtn.onclick = () => {
      reportModal.style.display = 'none';
    };

    // ì‚¬ì§„ ì²¨ë¶€ ê¸°ëŠ¥
    imageDropZone.onclick = () => imageInput.click();
    imageDropZone.ondragover = (e) => {
      e.preventDefault();
      imageDropZone.style.background = '#e0e7ff';
    };
    imageDropZone.ondragleave = (e) => {
      e.preventDefault();
      imageDropZone.style.background = '#fafafa';
    };
    imageDropZone.ondrop = (e) => {
      e.preventDefault();
      imageDropZone.style.background = '#fafafa';
      if (e.dataTransfer.files && e.dataTransfer.files[0]) {
        imageInput.files = e.dataTransfer.files;
        handleImageUpload(e.dataTransfer.files[0]);
      }
    };
    imageInput.onchange = (e) => {
      if (e.target.files && e.target.files[0]) {
        handleImageUpload(e.target.files[0]);
      }
    };
    function handleImageUpload(file) {
      const reader = new FileReader();
      reader.onload = function(e) {
        previewImage.style.display = 'block';
        previewImage.innerHTML = `<img src="${e.target.result}" style="max-width:100%; max-height:80px; border-radius:8px;">`;
        imageDropText.style.display = 'none';
      };
      reader.readAsDataURL(file);
    }

    // ì œë³´ í¼ ì œì¶œ
    reportForm.onsubmit = function(e) {
      e.preventDefault();
      const reportType = document.getElementById('reportType').value;
      const district = document.getElementById('district').value;
      const content = document.getElementById('content').value.trim();
      let imageData = '';
      if (imageInput.files && imageInput.files[0]) {
        const reader = new FileReader();
        reader.onload = function(ev) {
          imageData = ev.target.result;
          saveReport(reportType, district, content, imageData);
        };
        reader.readAsDataURL(imageInput.files[0]);
      } else {
        saveReport(reportType, district, content, '');
      }
    };

    function saveReport(reportType, district, content, imageData) {
      if (!content || !reportType) return;
      const reports = JSON.parse(localStorage.getItem('reports') || '[]');
      reports.push({ reportType, district, content, imageData, date: new Date().toLocaleString() });
      localStorage.setItem('reports', JSON.stringify(reports));
      reportModal.style.display = 'none';
      reportForm.reset();
      previewImage.style.display = 'none';
      imageDropText.style.display = 'block';
      imageInput.value = '';
      alert('ì œë³´ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
      }
    </script>
    <script src="main.js"></script>
  </body>
